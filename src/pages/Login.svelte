<script>
  import { getAuth, signInWithPopup, GoogleAuthProvider } from "firebase/auth";
  import { user$ } from "../store";

  const provider = new GoogleAuthProvider();
  const auth = getAuth();
  const loginWithGoogle = async () => {
    try {
      const result = await signInWithPopup(auth, provider);
      const credential = GoogleAuthProvider.credentialFromResult(result);
      const token = credential.accessToken;
      const user = result.user;
      user$.set(user);
      localStorage.setItem("token", token);
    } catch (error) {
      console.error(error);
    }
  };
</script>

<div>
  {#if $user$}
    <div>{$user$?.displayName}</div>
  {/if}
  <div>로그인하기</div>
  <button class="g-login-btn" on:click={loginWithGoogle}>
    <img
      class="g-icon"
      src="data:image/jpeg;base64,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"
      alt="google-icon"
    />
    <div>Google로 로그인하기</div></button
  >
</div>

<style>
  .g-login-btn {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: white;
    border: 1px solid rgb(195, 195, 195);
  }

  .g-icon {
    width: 17px;
    height: 17px;
    margin-right: 20px;
  }
</style>
