{
  "version": 3,
  "sources": ["../../svelte-spa-router/wrap.js", "../../regexparam/dist/index.mjs", "../../svelte-spa-router/Router.svelte"],
  "sourcesContent": ["/**\n * @typedef {Object} WrappedComponent Object returned by the `wrap` method\n * @property {SvelteComponent} component - Component to load (this is always asynchronous)\n * @property {RoutePrecondition[]} [conditions] - Route pre-conditions to validate\n * @property {Object} [props] - Optional dictionary of static props\n * @property {Object} [userData] - Optional user data dictionary\n * @property {bool} _sveltesparouter - Internal flag; always set to true\n */\n\n/**\n * @callback AsyncSvelteComponent\n * @returns {Promise<SvelteComponent>} Returns a Promise that resolves with a Svelte component\n */\n\n/**\n * @callback RoutePrecondition\n * @param {RouteDetail} detail - Route detail object\n * @returns {boolean|Promise<boolean>} If the callback returns a false-y value, it's interpreted as the precondition failed, so it aborts loading the component (and won't process other pre-condition callbacks)\n */\n\n/**\n * @typedef {Object} WrapOptions Options object for the call to `wrap`\n * @property {SvelteComponent} [component] - Svelte component to load (this is incompatible with `asyncComponent`)\n * @property {AsyncSvelteComponent} [asyncComponent] - Function that returns a Promise that fulfills with a Svelte component (e.g. `{asyncComponent: () => import('Foo.svelte')}`)\n * @property {SvelteComponent} [loadingComponent] - Svelte component to be displayed while the async route is loading (as a placeholder); when unset or false-y, no component is shown while component\n * @property {object} [loadingParams] - Optional dictionary passed to the `loadingComponent` component as params (for an exported prop called `params`)\n * @property {object} [userData] - Optional object that will be passed to events such as `routeLoading`, `routeLoaded`, `conditionsFailed`\n * @property {object} [props] - Optional key-value dictionary of static props that will be passed to the component. The props are expanded with {...props}, so the key in the dictionary becomes the name of the prop.\n * @property {RoutePrecondition[]|RoutePrecondition} [conditions] - Route pre-conditions to add, which will be executed in order\n */\n\n/**\n * Wraps a component to enable multiple capabilities:\n * 1. Using dynamically-imported component, with (e.g. `{asyncComponent: () => import('Foo.svelte')}`), which also allows bundlers to do code-splitting.\n * 2. Adding route pre-conditions (e.g. `{conditions: [...]}`)\n * 3. Adding static props that are passed to the component\n * 4. Adding custom userData, which is passed to route events (e.g. route loaded events) or to route pre-conditions (e.g. `{userData: {foo: 'bar}}`)\n * \n * @param {WrapOptions} args - Arguments object\n * @returns {WrappedComponent} Wrapped component\n */\nexport function wrap(args) {\n    if (!args) {\n        throw Error('Parameter args is required')\n    }\n\n    // We need to have one and only one of component and asyncComponent\n    // This does a \"XNOR\"\n    if (!args.component == !args.asyncComponent) {\n        throw Error('One and only one of component and asyncComponent is required')\n    }\n\n    // If the component is not async, wrap it into a function returning a Promise\n    if (args.component) {\n        args.asyncComponent = () => Promise.resolve(args.component)\n    }\n\n    // Parameter asyncComponent and each item of conditions must be functions\n    if (typeof args.asyncComponent != 'function') {\n        throw Error('Parameter asyncComponent must be a function')\n    }\n    if (args.conditions) {\n        // Ensure it's an array\n        if (!Array.isArray(args.conditions)) {\n            args.conditions = [args.conditions]\n        }\n        for (let i = 0; i < args.conditions.length; i++) {\n            if (!args.conditions[i] || typeof args.conditions[i] != 'function') {\n                throw Error('Invalid parameter conditions[' + i + ']')\n            }\n        }\n    }\n\n    // Check if we have a placeholder component\n    if (args.loadingComponent) {\n        args.asyncComponent.loading = args.loadingComponent\n        args.asyncComponent.loadingParams = args.loadingParams || undefined\n    }\n\n    // Returns an object that contains all the functions to execute too\n    // The _sveltesparouter flag is to confirm the object was created by this router\n    const obj = {\n        component: args.asyncComponent,\n        userData: args.userData,\n        conditions: (args.conditions && args.conditions.length) ? args.conditions : undefined,\n        props: (args.props && Object.keys(args.props).length) ? args.props : {},\n        _sveltesparouter: true\n    }\n\n    return obj\n}\n\nexport default wrap\n", "export function parse(str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n\nvar RGX = /*#__PURE__*/ /(\\/|^)([:*][^/]*?)(\\?)?(?=[/.]|$)/g;\n\n// error if key missing?\nexport function inject(route, values) {\n\treturn route.replace(RGX, (x, lead, key, optional) => {\n\t\tx = values[key=='*' ? 'wild' : key.substring(1)];\n\t\treturn x ? '/'+x : (optional || key=='*') ? '' : '/' + key;\n\t});\n}\n", null],
  "mappings": "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",
  "names": ["ctx", "wrap", "location", "querystring", "component"]
}
